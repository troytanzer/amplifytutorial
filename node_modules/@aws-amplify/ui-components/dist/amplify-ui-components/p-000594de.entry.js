import{r as t,h as r}from"./p-73696195.js";import{Logger as o,I18n as a}from"@aws-amplify/core";import{A as e}from"./p-f199eef0.js";import{T as i}from"./p-15c6ee49.js";import"./p-50fc1c0c.js";import"@aws-amplify/storage";import{p as s,a as c}from"./p-a473b043.js";const l=new o("S3Text"),n=class{constructor(r){t(this,r),this.contentType="text/*",this.level=e.Public,this.fallbackText=a.get(i.TEXT_FALLBACK_CONTENT)}async watchHandler(){await this.load()}async componentWillLoad(){await this.load()}async load(){const{path:t,textKey:r,body:o,contentType:a,level:e,track:i,identityId:n}=this;if(!r&&!t)return void l.debug("empty textKey and path");const p=r||t;l.debug("loading "+p+"..."),o&&await s(r,o,e,i,a,l);try{this.src=await c(p,e,i,n,l)}catch(m){throw l.debug(m),new Error(m)}}render(){return r("div",null,r("div",{class:"text-container"},r("pre",null,this.src?this.src:this.fallbackText)))}static get watchers(){return{textKey:["watchHandler"],body:["watchHandler"]}}};n.style=":host{--container-color:var(--amplify-smoke-white);--border-color:var(--amplify-light-grey);--font-size:var(--amplify-text-md);--text-color:var(--amplify-secondary-color)}.text-container{background-color:var(--container-color);border:1px solid var(--border-color);border-radius:5px;margin-bottom:10px}pre{display:block;margin:0.5rem 0;padding:0.5rem;line-height:1rem;max-height:50rem;font-size:var(--font-size);color:var(--text-color);word-break:break-all;overflow-y:scroll;overflow-x:auto}";export{n as amplify_s3_text}